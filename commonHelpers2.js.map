{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\nconst form = document.querySelector('.feedback-form');\nconst emailInputElem = form.querySelector(\"input[name='email']\");\nconst messageInputElem = form.querySelector(\"textarea[name = 'message']\");\nconst storageKey = 'feedback-form-state';\nconst savedFormData = loadFromLS(storageKey);\n\nif (savedFormData) {\n  formData.email = savedFormData.email;\n  formData.message = savedFormData.message;\n}\n\nemailInputElem.value = formData.email;\nmessageInputElem.value = formData.message;\n\nform.addEventListener('input', e => {\n  formData[e.target.name] = e.target.value.trim();\n  saveToLS(storageKey, formData);\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  if (emailInputElem.value && messageInputElem.value) {\n    console.log(formData);\n    localStorage.removeItem(storageKey);\n    form.reset();\n  } else {\n    alert('Fill please all fields');\n  }\n});\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return json;\n  }\n}\n"],"names":["formData","form","emailInputElem","messageInputElem","storageKey","savedFormData","loadFromLS","saveToLS","key","value","jsonData","json"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EACMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAiBD,EAAK,cAAc,qBAAqB,EACzDE,EAAmBF,EAAK,cAAc,4BAA4B,EAClEG,EAAa,sBACbC,EAAgBC,EAAWF,CAAU,EAEvCC,IACFL,EAAS,MAAQK,EAAc,MAC/BL,EAAS,QAAUK,EAAc,SAGnCH,EAAe,MAAQF,EAAS,MAChCG,EAAiB,MAAQH,EAAS,QAElCC,EAAK,iBAAiB,QAAS,GAAK,CAClCD,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OACzCO,EAASH,EAAYJ,CAAQ,CAC/B,CAAC,EAEDC,EAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EACZC,EAAe,OAASC,EAAiB,OAC3C,QAAQ,IAAIH,CAAQ,EACpB,aAAa,WAAWI,CAAU,EAClCH,EAAK,MAAK,GAEV,MAAM,wBAAwB,CAElC,CAAC,EAED,SAASM,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASJ,EAAWE,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMG,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH"}